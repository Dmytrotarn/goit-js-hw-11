{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict'\nconst API_KEY = \"43985824-437e417885fe4ca625fa28e08\"\nconst BASE_URL = \"https://pixabay.com/api/\"\n\n\n\nexport function getSearchResults(search) {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: search,\n    });\n\n    return fetch(`${BASE_URL}?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText)\n            }\n            return response.json();\n        })\n\n}\n","'use strict'\nexport function renderImages(images) {\n\n  return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"item-results\">\n        \t<a href=\"${largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\"/>\n        \t</a>\n        \t<div class=\"wrap-info\">\n            <ul class=\"list-info\">\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Likes</p>\n                <p class=\"text-info\">${likes}</p>\n              </li>\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Views</p>\n                <p class=\"text-info\">${views}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"headline-info\">Comments</p>\n                <p class=\"text-info\">${comments}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"headline-info\">Downloads</p>\n                <p class=\"text-info\">${downloads}</p>\n            </li>\n            </ul>\n          </div>\n        </li>`}).join('')\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { getSearchResults } from './js/pixabay-api'\nimport { renderImages } from './js/render-functions'\n\n\nconst search = document.querySelector('.search-input')\nconst button = document.querySelector('.search-btn')\nconst gallery = document.querySelector('.gallery')\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nbutton.addEventListener('click', handleSearch)\n\nfunction handleSearch(e) {\n    e.preventDefault()\n    const searchValue = search.value.trim()\n    if (searchValue == '') {\n        iziToast.error({\n            title: 'Error',\n            message: 'Illegal operation',\n        })\n        return\n    }\n\n\n    getSearchResults(searchValue)\n        .then((data) => {\n            if (!searchValue) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Illegal operation',\n                })\n                return\n            }\n            search.value = ''\n            gallery.innerHTML = renderImages(data.hits)\n            lightbox.refresh()\n        })\n\n}\n"],"names":["API_KEY","BASE_URL","getSearchResults","search","searchParams","response","renderImages","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","button","gallery","lightbox","SimpleLightbox","handleSearch","e","searchValue","iziToast","data"],"mappings":"6vBACA,MAAMA,EAAU,qCACVC,EAAW,2BAIV,SAASC,EAAiBC,EAAQ,CACrC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKJ,EACL,EAAGG,CACX,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EACrC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,CAET,CCnBO,SAASC,EAAaC,EAAQ,CAEnC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAChF;AAAA,oBACSL,CAAa;AAAA,wBACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMXC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAIjC,EAAE,KAAK,EAAE,CACxB,CCrBA,MAAMX,EAAS,SAAS,cAAc,eAAe,EAC/CY,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEDH,EAAO,iBAAiB,QAASI,CAAY,EAE7C,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAgB,EAClB,MAAMC,EAAclB,EAAO,MAAM,KAAM,EACvC,GAAIkB,GAAe,GAAI,CACnBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mBACrB,CAAS,EACD,MACH,CAGDpB,EAAiBmB,CAAW,EACvB,KAAME,GAAS,CACZ,GAAI,CAACF,EAAa,CACdC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mBAC7B,CAAiB,EACD,MACH,CACDnB,EAAO,MAAQ,GACfa,EAAQ,UAAYV,EAAaiB,EAAK,IAAI,EAC1CN,EAAS,QAAS,CAC9B,CAAS,CAET"}